
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;
import java.util.ArrayList;
import java.util.Collection;
import org.junit.Test;
import org.junit.Test;
//A music object is made up 2 string; song name and artist
class Music{
	String song;
	String artist;
	
	public Music(String song, String artist) {
		this.song = song;
		this.artist = artist;
	}
	
	public String getSong() {
		return song;
	}
	
	public void setSong(String song) {
		this.song = song;
	}
	
	@Override
	public String toString() {
		return String.format("%-21s: %s", song, artist);
	}
}

// Each node will hold on to a song and the following song in the queue (the next node)
class Node{
	Music song;
	Node next;
	Node prev;
	
	public Node(Music song) {
		this.song = song;
		this.next = null;
	}
	
	public Node(Music song,  Node next, Node prev)  {
		this.song = song;
		this.next = next;
		this.prev = prev;
		
	}
	
	
	
	@Override
	public String toString() {
		if (song == null) {
			return "";
		}
		return song.toString();
	}
}

public class Spotify {
	Node current;
	Node last;
	
	
	int size = 0;
	
	
	/*
	 * TODO: You will take in a list of songs, in the form of arraylist, linkedlist,
	 * etc (Collection and you will add that to the end of your queue
	 */
	
	public void addAll(Collection<Music> listOfsongs) {	
		Object[] newList = listOfsongs.toArray();
		for(Music i : listOfsongs) {
			addSong(i);
			for(int j = 0; j < newList.length;j++) {
				newList[j] = i;
			}
		}
	}

	
	/*
	 * TODO: You will remove the song that is in the 1st position
	 */
	public void removeSong() {
		if(current == null) {
			throw new ArrayIndexOutOfBoundsException();
		}
		//Music.remove(current.song);
		current.song = current.next.song;
		current = current.next;
		last.next = current;
			
	}
	
	/*
	 * TODO: You will add a song to the end of the queue
	 */
	public void addSong(Music song) {
		//Music newSong = song;
		Node newNode = new Node(song); 
		if(current == null) {
			current = newNode;
			last = newNode;
			current.prev = last;
		}
		
			newNode.next = current;
			newNode.prev = last;
			last.next = newNode;
			last = newNode;
			last.next = current;
			size++;
	
	
	}
	
	/*
	 * TODO: You will rotate the queue so that we are now listening to the next song
	 */
	public void nextSong() {
		last = current;
		current = current.next;
		last.next = current;
		
		
		
	}
	
	/*
	 * TODO: You will rotate the queue so that we are now listening to the previous song
	 */
	public void prevSong() {
		current = last.next;
		current.next = current;
		last = current;
		
		
		
	}
	
	/*
	 * TODO: You will tell us the song in the 1st position
	 */
	public Music currentSong() {
		return current.song;
	}
	
	// use String.format("%3s) %s\n", i , the CurrentNode);
	// i: the count starting at 1
	// theCurrentNode: current song node
	@Override
	public String toString() {
		StringBuilder stringBuilder = new StringBuilder();
		stringBuilder.append("=====[Current Queue]=====\n");
		if (current == null) {
			stringBuilder .append("no songs\n");
			return stringBuilder.toString();
		}
		Node temp = current;
		
		int i = 1;
		while(temp.next != null && temp.next != last.next){
			stringBuilder.append(String.format("%3s) %s\n", i, temp));
			temp = temp.next;
			i++;	
		}
		
		stringBuilder.append(String.format("%3s) %s\n", i, temp));
		return stringBuilder.toString();
	}
	
	
	public static void main(String[] args) {
	/*	ArrayList<Music> songs = new ArrayList<>();
		songs.add(new Music("Happy birthday", "shawn"));
		songs.add(new Music("Space Cadet", "Metro Boomin"));
		songs.add(new Music("100", "The Game"));
		songs.add(new Music("L@D", "A@AP Rocky"));
		songs.add(new Music("Hot Man", "Bobby Shmurda"));
		songs.add(new Music("Men in Paris", "Kanye East and Jay-Y"));
		songs.add(new Music("Im Sad", "Aubrey"));
		songs.add(new Music("Happy birthday", "shawn"));

		String inputString = "[new Music(\"Happy birthday\", \"shawn\"),"
				+ "new Music(\"Space Cadet\", \"Metro Boomin\"), new Music(\"100\", \"The Game\"), "
				+ "new Music(\"L@D\", \"A@AP Rocky\"), new Music(\"Hot Man\", \"Bobby Shmurda\"), "
				+ "new Music(\"Men in Paris\", \"Kanye East and Jay-Y\"), new Music(\"Im Sad\", \"Aubrey\"), "
				+ "new Music(\"Happy birthday\", \"shawn\")]";

		Spotify spotify = new Spotify();
		
		spotify.addAll(songs);
		System.out.println(spotify.currentSong());
		for (int i = 0; i < 3; i++) {
			spotify.prevSong();
		}
		System.out.println(spotify.currentSong());
		String ans1 = "=====[Current Queue]=====\n" + "  1) Men in Paris         : Kanye East and Jay-Y\n"
				+ "  2) Im Sad               : Aubrey \n" + "  3) Happy birthday       : shawn\n"
				+ "  4) Happy birthday       : shawn\n" + "  5) Space Cadet          : Metro Boomin\n"
				+ "  6) 100                  : The Game\n" + "  7) L@D                  : A@AP Rocky\n"
				+ "  8) Hot Man              : Bobby Shmurda\n";

		String expAns1 = ans1;
		String actAns1 = spotify.toString();

		
		if (expAns1.equals(actAns1)) {
			System.out.println("Example working");
			} else {
			System.out.println("Issue in example ");
			}
		
		System.out.println(expAns1);
		System.out.println(actAns1);
		*/
		}
	}
